<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Register Student</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/style.css') }}"
    />
  </head>
  <body>
    <header>
      <h1>Student Registration</h1>
    </header>

    <div class="container" style="max-width: 700px">
      <div style="text-align: left; margin-bottom: 1.5rem">
        <a href="/" class="btn btn-back">‚Üê Back to Dashboard</a>
      </div>

      <div class="form-group">
        <label>Full Name</label>
        <input type="text" id="name" placeholder="Ex: John Doe" />
      </div>

      <div class="form-group">
        <label>Roll Number</label>
        <input type="text" id="roll_no" placeholder="Ex: 101" />
      </div>

      <div class="form-group">
        <label>Registration Number</label>
        <input type="text" id="reg_no" placeholder="Ex: 2021CSE045" />
      </div>

      <div class="form-group">
        <label>Department</label>
        <select id="department">
          <option value="CSE">Computer Science (CSE)</option>
          <option value="ME">Mechanical</option>
          <option value="EE">Electrical</option>
          <option value="ECE">Electronics</option>
          <option value="Civil">Civil</option>
          <option value="Others">Others</option>
        </select>
      </div>

      <hr style="border: 0; border-top: 1px solid #eee; margin: 2rem 0" />

      <h2 style="color: #254441; margin-bottom: 10px">Face Capture</h2>
      <p style="color: #666; font-size: 0.95rem">
        We need 50 photos to train the model. Click "Open Camera", then "Start
        Capture".
      </p>

      <div class="camera-box">
        <video id="videoElement" autoplay playsinline></video>
        <canvas id="canvasElement" style="display: none"></canvas>
      </div>

      <div
        id="progress"
        style="margin: 15px 0; font-weight: bold; color: #43aa8b"
      >
        Photos Taken: 0 / 50
      </div>

      <div style="margin-top: 1.5rem">
        <button
          onclick="startCamera()"
          class="btn btn-back"
          style="background-color: #b2b09b"
        >
          1. Open Camera
        </button>
        <button onclick="captureFaces()" class="btn btn-secondary">
          2. Start Capture
        </button>
        <button
          onclick="submitRegistration()"
          class="btn"
          id="submitBtn"
          disabled
        >
          3. Save Student
        </button>
      </div>

      <div id="status"></div>
    </div>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
  </body>
</html>
